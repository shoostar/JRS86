function Quote(text,author){this.text=text,this.author=author}function lazyLoadBg(el,imageSource){$("<img/>").attr("src",imageSource).on({load:function(){$(this).remove(),$(el).css("backgroundImage","url("+imageSource+")"),$(el).css("opacity","1")},error:function(){$(this).remove()}})}$("article > p").each(function(){$(this).html($(this).html().replace(/\s([^\s<]+)\s*$/,"&nbsp;$1"))});var Glitch=function(){function Glitch(){this._text=document.querySelector(".heading"),this._filter=document.querySelector(".svg-filters"),this._turb=this._filter.querySelector("#filter feTurbulence"),this._turbVal={val:1e-6},this._turbValX={val:1e-6},this.createTimeline()}return Glitch.prototype.createTimeline=function(){var _this=this;this.timeline=new TimelineMax({repeat:9999,onUpdate:function(){_this._turb.setAttribute("baseFrequency",_this._turbVal.val+" "+_this._turbValX.val)}}),this.timeline.to(this._turbValX,.1,{val:.3,ease:Power0.easeNone},.25)},Glitch}();new Glitch,$("figcaption").hover(function(){$(this).css({"background-color":$(this).attr("data-color")})});var quotes=[];quotes.push(new Quote("thinking about what to eat for lunch","Will work for homemade apple pie")),quotes.push(new Quote("keeping his suey chopped","He doesn't really care for Chinese food")),quotes.push(new Quote("listening to obnoxiously loud music","Very metalhead, but listens to anything"));var getNewRandomQuote=function(){return quotes[Math.floor(Math.random()*quotes.length)]};$(document).ready(function(){var displayNewQuote=function(){var newQuote=getNewRandomQuote();$("#text").html(newQuote.text),$("#author").html(newQuote.author)};displayNewQuote()}),$(".lazy").each(function(index,el){lazyLoadBg(el,$(el).data("src"))}),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?($("header").removeClass(".parallax"),$("section").removeClass(".parallax")):$(".parallax").each(function(){if($(this).offset().top=$(window).scrollTop()){var difference=$(window).scrollTop()-$(this).offset().top,half=difference/2+"px",transform="translate3d( 0, "+half+",0)";$(this).find(".cover-image").css("transform",transform)}else $(this).find(".cover-image").css("transform","translate3d(0,0,0)")});